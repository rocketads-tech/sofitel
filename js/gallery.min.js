(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("imagePopup"),t=document.getElementById("popupImage"),n=document.querySelector(".close-btn"),o=document.querySelector(".prev-btn"),s=document.querySelector(".next-btn"),c=document.querySelectorAll("#gallery img");let i=0,d=0,l=0,r=!1,u=!1;function a(){e.style.display="none",document.body.style.overflow=""}function y(e){if(r)return;r=!0;let n="";1===e||"swipe-left"===e?n="slide-right":-1!==e&&"swipe-right"!==e||(n="slide-left"),t.classList.add(n),setTimeout((()=>{t.classList.remove(n),t.src=c[i].src,r=!1}),300)}function p(e="button"){i=(i+1)%c.length,t.src=c[i].src,y("swipe"===e?"swipe-left":1)}function m(e="button"){i=(i-1+c.length)%c.length,t.src=c[i].src,y("swipe"===e?"swipe-right":-1)}console.log(c),c.forEach(((n,o)=>{n.addEventListener("click",(()=>function(n){i=n,t.src=c[i].src,e.style.display="flex",document.body.style.overflow="hidden"}(o)))})),n.addEventListener("click",a),e.addEventListener("click",(t=>{t.target===e&&a()})),s.addEventListener("click",(()=>p("button"))),o.addEventListener("click",(()=>m("button"))),document.addEventListener("keydown",(t=>{"flex"!==e.style.display||u||(u=!0,"ArrowRight"===t.key&&p("button"),"ArrowLeft"===t.key&&m("button"),"Escape"===t.key&&a(),setTimeout((()=>{u=!1}),500))})),e.addEventListener("touchstart",(e=>{d=e.touches[0].clientX})),e.addEventListener("touchmove",(e=>{e.preventDefault(),l=e.touches[0].clientX}),{passive:!1}),e.addEventListener("touchend",(()=>{const e=d-l;e>50?p("swipe-left"):e<-50&&m("swipe-right")}))}))})();